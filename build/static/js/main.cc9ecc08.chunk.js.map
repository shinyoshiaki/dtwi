{"version":3,"sources":["modules/p2p.js","interface/iTwitter.js","modules/twitter.js","modules/condition.js","modules/dm.js","createStore.js","components/main/header/btnAccount.js","lib/file.js","components/main/header/btnPicFile.js","components/main/header/formTweet.js","components/main/header/btnOpenTweet.js","components/main/btnReloadTimeline.js","components/main/header/formSearchUser.js","components/main/header/index.js","components/common/timelline/picture.js","components/common/timelline/tweet.js","components/common/timelline/index.js","containers/main/timeline.js","components/common/util/nodeList.js","components/main/dmList.js","components/main/index.js","components/common/nofitication/index.js","domain/dm.js","pages/main.js","components/login/index.js","pages/login.js","components/account/followList.js","components/account/index.js","pages/account.js","components/user/badge.js","components/user/index.js","pages/user.js","components/common/videoChat/index.js","components/dm/chat.js","pages/dm.js","index.js"],"names":["initialState","targetUrl","undefined","node","kad","Istate","actionType","SET_VALUE","setValue","key","value","dispatch","type","data","reducer","state","arguments","length","action","Object","objectSpread","defineProperty","iTweet","id","time","msg","opt","pic","tweet","hash","sha1","JSON","stringify","toString","myTweets","lastTweet","timeline","userTweets","followIds","PUSH_ARR","RESET_USER_TWEET","ADD_USER_TWEET","FOLLOW","findTweet","_x","_findTweet","apply","this","_callee","result","_args","regenerator_default","a","wrap","_context","prev","next","Kademlia","findValue","catch","console","log","sent","abrupt","getTimeline","stop","kvs","keyValueList","keys","forEach","push","sort","b","reverse","picture","pictureAddress","Math","random","nodeId","Date","now","store","storeChunks","pushArray","concat","includes","findUser","selectFile","dmUserId","loading","nofiticationOpen","nofiticationMessage","Icondition","setConditionValue","messages","SEND_DM","RECEIVE_DM","target","text","file","filename","send","name","history","createHistory","middleware","routerMiddleware","BtnAccount","react_default","createElement","main_Consumer","context","func","toAccount","index_es","onClick","style","marginLeft","icons_index_es","Component","getSliceArrayBuffer","blob","Promise","resolve","reject","arr","r","FileReader","blobSlice","File","prototype","slice","chunkSize","chunks","ceil","size","currentChunk","loadNext","start","end","readAsArrayBuffer","call","onerror","e","onload","BtnPicFile","_Component","_getPrototypeOf2","_this","classCallCheck","_len","args","Array","_key","possibleConstructorReturn","getPrototypeOf","label","set","handleFile","_ref","asyncToGenerator","mark","files","inherits","createClass","_this$props","props","val","btnpicfile_label","btnpicfile_set","display","onChange","htmlFor","raised","component","setBtnPicFile","btnPicFile_BtnPicFile","FormTweet","handlePicFile","_this2","closeModal","excuteTweet","margin","multiline","variant","rows","width","setState","bottom","float","BtnOpenTweet","open","handleOpen","handleClose","aria-labelledby","aria-describedby","onClose","height","flex","background","textAlign","formTweet_FormTweet","BtnReloadTimeline","reload","FormSearchUser","searchUser","placeholder","Header","tab","handleChange","event","titles","pages","flexGrow","position","backgroundColor","color","map","v","i","btnReloadTimeline_BtnReloadTimeline","formSearchUser_FormSearchUser","btnAccount_BtnAccount","btnOpenTweet_BtnOpenTweet","React","findPicture","url","p2p","_find","window","URL","createObjectURL","Blob","error","find","ImageTweet","imgsrc","imageUrl","_callee2","_context2","_this3","_callee3","_context3","_this4","Consumer","src","alt","Tweet","index","onClickId","border","borderRadius","borderWidth","borderColor","marginRight","marginBottom","picture_ImageTweet","Context","createContext","Provider","Timeline","tweet_Tweet","setTimeline","timelline_Timeline","MainTimeLine","_this$props2","twitter","follows","_this$props3","flexDirection","justifyContent","alignItems","withRouter","connect","NodeList","kbuckets","kbucket","line","DmList","dmlist_messages","dmlist_onClickId","message","MainContext","main_Provider","header_Header","header","main_timeline","dmList_DmList","setDmList","nodeList_NodeList","Nofitication","nofiticationClose","anchorOrigin","vertical","horizontal","toDm","Main","setFile","userId","_searchUser","f","getPeerFromnodeId","findNode","getCloseEstPeer","listenAddPeer","callback","onAddPeer","_this$props4","condition","dm","main_MainContext","setMainContext","nofitication_Nofitication","setNofitication","styles","theme","layout","spacing","unit","breakpoints","up","paper","marginTop","padding","avatar","palette","secondary","main","form","submit","SignIn","classes","login","register","Fragment","CssBaseline_default","className","Paper_default","Avatar_default","LockOutlined_default","Typography_default","FormControl_default","required","fullWidth","InputLabel_default","Input_default","autoFocus","pubKey","autoComplete","secKey","FormControlLabel_default","control","Checkbox_default","Button_default","Login","targetAddress","targetPort","videoSrc","localSrc","connectNode","pubkey","seckey","Node","events","payload","dmEvent","Styled","withStyles","setSignin","FollowList","AccountContext","toMain","followList_FollowList","setFollowList","Account","account_AccountContext","setAccountContext","FormBadge","user_Consumer","follow","UserContext","user_Provider","badge_FormBadge","User","tweets","getTargetTweets","user_UserContext","setUserContext","VideoChat","peer","videochat_peer","videochat_closeModal","setProps","local","WebRTC","getLocalStream","Stream","stream","media","video","srcObject","connectStream","ref","autoPlay","FormDmChat","videoModal","messageList","sendComment","openVideoModal","chat_peer","raw","listenPeer","messageArr","dataSource","messagefile","date","uri","status","click","onDownload","minHeight","react_chat_elements_dist_main","lockable","toBottomHeight","object","templink","document","href","download","body","appendChild","removeChild","selectFilename","videoChat_VideoChat","setVideoChat","DM","_x2","_sendComment","renderId","chat_FormDmChat","setFormDmChat","getPeer","reduxCreateStore","combineReducers","p2pReducer","router","routerReducer","applyMiddleware","thunk","logger","render","es","HashRouter","Route","exact","path","WatchLive","getElementById"],"mappings":"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","file":"static/js/main.cc9ecc08.chunk.js","sourcesContent":["export const initialState = {\n  targetUrl: undefined,\n  node: undefined,\n  kad: undefined\n};\n\nexport const Istate = {\n  targetUrl: \"targetUrl\",\n  node: \"node\",\n  kad: \"kad\"\n};\n\nexport const actionType = {\n  SET_VALUE: \"SET_VALUE\"\n};\n\nexport function setValue(key, value, dispatch) {\n  dispatch({ type: actionType.SET_VALUE, data: { key, value } });\n}\n\nexport default function reducer(state = initialState, action) {\n  switch (action.type) {\n    case actionType.SET_VALUE:\n      return { ...state, [action.data.key]: action.data.value };\n\n    default:\n      return state;\n  }\n}\n","import sha1 from \"sha1\";\n\nexport function iTweet(id, time, msg, opt = { pic: undefined }) {\n  const tweet = {\n    type: \"tweet\",\n    id,\n    time,\n    msg,\n    hash: undefined,\n    pic: undefined\n  };\n  tweet.hash = sha1(JSON.stringify(tweet)).toString();\n  tweet.pic = opt.pic;\n  return tweet;\n}\n","import Kademlia from \"kad-rtc\";\nimport { iTweet } from \"../interface/iTwitter\";\nimport sha1 from \"sha1\";\n\nexport const initialState = {\n  myTweets: [],\n  lastTweet: undefined,\n  timeline: [],\n  userTweets: {},\n  followIds: []\n};\n\nexport const Istate = {\n  myTweets: \"myTweets\",\n  timeline: \"timeline\",\n  lastTweet: \"lastTweet\",\n  followIds: \"followIds\"\n};\n\nexport const actionType = {\n  SET_VALUE: \"TWITTER_SET_VALUE\",\n  PUSH_ARR: \"TWITTER_PUSH_ARR\",\n  RESET_USER_TWEET: \"TWITTER_RESET_USER_TWEET\",\n  ADD_USER_TWEET: \"TWITTER_ADD_USER_TWEET\",\n  FOLLOW: \"TWITTER_FOLLOW\"\n};\n\nexport function event(kad = new Kademlia(), dispatch) {\n  console.log({ kad });\n  kad.events.store[\"twitter.js\"] = value => {\n    console.log(\"twitter event\", { value });\n    if (value.type === \"tweet\") {\n      console.log(\"on tweet\");\n      getTimeline(kad, dispatch);\n    }\n  };\n}\n\nexport async function findTweet(key, kad = new Kademlia(), dispatch) {\n  dispatch({ type: actionType.RESET_USER_TWEET, data: key });\n  for (;;) {\n    const result = await kad.findValue(key).catch(console.log);\n    if (!result) break;\n    if (result.type === \"tweet\") {\n      console.log(\"find tweet\");\n      getTimeline(kad, dispatch);\n      key = result.hash;\n    } else {\n      break;\n    }\n  }\n}\n\nfunction getTimeline(kad = new Kademlia(), dispatch) {\n  const kvs = kad.keyValueList;\n  const timeline = [];\n  Object.keys(kvs).forEach(key => {\n    const value = kvs[key];\n    if (value.type === \"tweet\") {\n      timeline.push(value);\n    }\n  });\n  const sort = timeline\n    .sort((a, b) => {\n      return a.time - b.time;\n    })\n    .reverse();\n  setValue(Istate.timeline, sort, dispatch);\n}\n\nexport function tweet(\n  value,\n  kad = new Kademlia(),\n  dispatch,\n  state = initialState,\n  opt = { picture: undefined }\n) {\n  console.log(\"tweet module\", { opt });\n  const pictureAddress = sha1(Math.random().toString()).toString();\n  const tweet = opt.picture\n    ? iTweet(kad.nodeId, Date.now(), value, { pic: pictureAddress })\n    : iTweet(kad.nodeId, Date.now(), value);\n  if (state.lastTweet) {\n    kad.store(kad.nodeId, state.lastTweet.hash, tweet);\n  } else {\n    kad.store(kad.nodeId, kad.nodeId, tweet);\n  }\n  if (opt.picture) kad.storeChunks(kad.nodeId, pictureAddress, opt.picture);\n  setValue(Istate.lastTweet, tweet, dispatch);\n  pushArray(Istate.myTweets, tweet, dispatch);\n  getTimeline(kad, dispatch);\n}\n\nexport function follow(id, dispatch) {\n  dispatch({ type: actionType.FOLLOW, data: id });\n}\n\nexport function setValue(key, value, dispatch) {\n  dispatch({ type: actionType.SET_VALUE, data: { key, value } });\n}\n\nexport function pushArray(key, value, dispatch) {\n  dispatch({ type: actionType.PUSH_ARR, data: { key, value } });\n}\n\nexport default function reducer(state = initialState, action) {\n  switch (action.type) {\n    case actionType.SET_VALUE:\n      return { ...state, [action.data.key]: action.data.value };\n    case actionType.PUSH_ARR:\n      return {\n        ...state,\n        [action.data.key]: state[action.data.key].concat(action.data.value)\n      };\n    case actionType.RESET_USER_TWEET:\n      state.userTweets[action.data] = [];\n      return { ...state, userTweets: state.userTweets };\n    case actionType.ADD_USER_TWEET:\n      console.log(\"twitterjs reducer\", { state });\n      state.userTweets[action.data.id].push(action.data);\n      return {\n        ...state,\n        userTweets: state.userTweets\n      };\n    case actionType.FOLLOW:\n      if (!state.followIds.includes(action.data))\n        state.followIds.push(action.data);\n      return { ...state, followIds: state.followIds };\n    default:\n      return state;\n  }\n}\n","export const initialState = {\n  findUser: undefined,\n  selectFile: undefined,\n  dmUserId: undefined,\n  loading: false,\n  nofiticationOpen: false,\n  nofiticationMessage: \"\"\n};\n\nexport const Icondition = {\n  findUser: \"findUser\",\n  selectFile: \"selectFile\",\n  dmUserId: \"dmUserId\",\n  loading: \"loading\",\n  nofiticationOpen: \"nofiticationOpen\",\n  nofiticationMessage: \"nofiticationMessage\"\n};\n\nexport const actionType = {\n  SET_VALUE: \"CONDITION_SET_VALUE\"\n};\n\nexport function setConditionValue(key, value, dispatch) {\n  dispatch({ type: actionType.SET_VALUE, data: { key, value } });\n}\n\nexport default function reducer(state = initialState, action) {\n  switch (action.type) {\n    case actionType.SET_VALUE:\n      return { ...state, [action.data.key]: action.data.value };\n    default:\n      return state;\n  }\n}\n","import Kademlia from \"kad-rtc\";\nimport { setConditionValue, Icondition } from \"./condition\";\n\nexport const initialState = {\n  messages: {}\n};\n\nexport const actionType = {\n  SEND_DM: \"SEND_DM\",\n  RECEIVE_DM: \"RECEIVE_DM\"\n};\n\nexport function setValue(key, value, dispatch) {\n  dispatch({ type: actionType.SET_VALUE, data: { key, value } });\n}\n\nexport function event(kad = new Kademlia(), dispatch) {\n  kad.events.p2p[\"dm.js\"] = payload => {\n    let data;\n    if (payload.text) data = { nodeId: payload.nodeId, text: payload.text };\n    else\n      data = {\n        nodeId: payload.nodeId,\n        file: payload.file,\n        filename: payload.filename\n      };\n    dispatch({ type: actionType.RECEIVE_DM, data });\n    setConditionValue(Icondition.nofiticationOpen, true, dispatch);\n    setConditionValue(\n      Icondition.nofiticationMessage,\n      `dm comming ${payload.text}`,\n      dispatch\n    );\n  };\n}\n\nexport async function sendComment(\n  target,\n  text,\n  kad = new Kademlia(),\n  dispatch,\n  opt = { file: undefined, filename: undefined }\n) {\n  let result = await kad.send(target, { text }).catch(console.log);\n  if (!result) return;\n  dispatch({ type: actionType.SEND_DM, data: { nodeId: target, text: text } });\n  if (opt.file) {\n    result = await kad\n      .send(target, { file: { name: opt.filename, value: opt.file } })\n      .catch(console.log);\n    if (!result) return;\n    dispatch({\n      type: actionType.SEND_DM,\n      data: { nodeId: target, file: opt.file, filename: opt.filename }\n    });\n  }\n}\n\nexport default function reducer(state = initialState, action) {\n  switch (action.type) {\n    case actionType.SEND_DM: {\n      const data = action.data;\n\n      if (!state.messages[data.nodeId]) state.messages[data.nodeId] = [];\n      const value = state.messages[data.nodeId];\n\n      if (data.text) {\n        value.push({ type: \"me\", text: data.text });\n      } else if (data.file) {\n        value.push({ type: \"me\", file: data.file, filename: data.filename });\n      }\n      return { ...state, messages: state.messages };\n    }\n    case actionType.RECEIVE_DM: {\n      const data = action.data;\n\n      if (!state.messages[data.nodeId]) state.messages[data.nodeId] = [];\n      const value = state.messages[data.nodeId];\n\n      if (data.text) {\n        value.push({ type: \"you\", text: data.text });\n      } else if (data.file) {\n        value.push({ type: \"you\", file: data.file, filename: data.filename });\n      }\n      return { ...state, messages: state.messages };\n    }\n    default:\n      return state;\n  }\n}\n","import {\n  createStore as reduxCreateStore,\n  applyMiddleware,\n  combineReducers\n} from \"redux\";\nimport logger from \"redux-logger\";\nimport thunk from \"redux-thunk\";\nimport createHistory from \"history/createBrowserHistory\";\nimport { routerReducer, routerMiddleware } from \"react-router-redux\";\n\nimport p2pReducer from \"./modules/p2p\";\nimport twitter from \"./modules/twitter\";\nimport condition from \"./modules/condition\";\nimport dm from \"./modules/dm\";\n\nconst history = createHistory();\nconst middleware = routerMiddleware(history);\n\nexport default function createStore() {\n  const store = reduxCreateStore(\n    combineReducers({\n      p2p: p2pReducer,\n      router: routerReducer,\n      twitter,\n      condition,\n      dm\n    }),\n    applyMiddleware(thunk, logger, middleware)\n  );\n\n  return { store, history };\n}\n","import React, { Component } from \"react\";\nimport { IconButton } from \"@material-ui/core\";\nimport { AccountCircle } from \"@material-ui/icons\";\nimport { Consumer } from \"../index\";\n\nexport default class BtnAccount extends Component {\n  render() {\n    return (\n      <Consumer>\n        {context => {\n          context = context || {\n            func: {\n              toAccount: () => {}\n            }\n          };\n          return (\n            <IconButton\n              onClick={context.func.toAccount}\n              style={{ marginLeft: \"auto\" }}\n            >\n              <AccountCircle />\n            </IconButton>\n          );\n        }}\n      </Consumer>\n    );\n  }\n}\n","export function getSliceArrayBuffer(blob) {\n  console.log(\"blob blob\", blob);\n  return new Promise((resolve, reject) => {\n    let arr = [];\n    const r = new FileReader(),\n      blobSlice = File.prototype.slice,\n      chunkSize = 16384,\n      chunks = Math.ceil(blob.size / chunkSize);\n    let currentChunk = 0;\n    r.onerror = e => {\n      console.log(\"get slice blob error\", e);\n      reject();\n    };\n    r.onload = e => {\n      arr.push(e.target.result);\n      currentChunk++;\n      if (currentChunk < chunks) {\n        loadNext();\n      } else {\n        console.log(\"getfileslice\", { arr });\n        resolve(arr);\n      }\n    };\n    function loadNext() {\n      const start = currentChunk * chunkSize;\n      const end =\n        start + chunkSize >= blob.size ? blob.size : start + chunkSize;\n      r.readAsArrayBuffer(blobSlice.call(blob, start, end));\n    }\n    loadNext();\n  });\n}\n\nexport function blob2DataUrl(blob) {\n  return new Promise(resolve => {\n    const r = new FileReader();\n    r.onload = e => {\n      resolve(e.target.result);\n    };\n    console.log(\"blob2dataurl\", { blob });\n    r.readAsDataURL(blob);\n  });\n}\n","import React, { Component } from \"react\";\nimport { Button } from \"@material-ui/core\";\nimport { getSliceArrayBuffer } from \"../../../lib/file\";\n\nexport class BtnPicFile extends Component {\n  label = \"\";\n  set = () => {};\n  handleFile = async e => {\n    const blob = e.target.files[0];\n    if (!blob) return;\n    const result = await getSliceArrayBuffer(blob).catch(console.log);\n    if (!result) return;\n    console.log(\"btn pic file\", { result });\n    this.set(result, blob.name);\n  };\n\n  render() {\n    const { val, func } = this.props;\n    if (val && func) {\n      this.label = val.btnpicfile_label;\n      this.set = func.btnpicfile_set;\n    }\n    return (\n      <div>\n        <input\n          type=\"file\"\n          id=\"raised-button-file\"\n          style={{ display: \"none\" }}\n          onChange={this.handleFile}\n        />\n        <label htmlFor=\"raised-button-file\">\n          <Button raised component=\"span\">\n            {this.label}\n          </Button>\n        </label>\n      </div>\n    );\n  }\n}\n\nexport default function setBtnPicFile(\n  val = { btnpicfile_label: \"picture\" },\n  func = { btnpicfile_set: () => {} }\n) {\n  return <BtnPicFile val={val} func={func} />;\n}\n","import React, { Component } from \"react\";\nimport { TextField, Button } from \"@material-ui/core\";\nimport { Consumer } from \"../\";\nimport setBtnPicFile from \"./btnPicFile\";\n\nexport class FormTweet extends Component {\n  state = { target: \"\" };\n  file;\n\n  handlePicFile = file => {\n    this.file = file;\n  };\n\n  render() {\n    const { closeModal } = this.props;\n    return (\n      <Consumer>\n        {context => {\n          context = context || { func: { excuteTweet: () => {} }, val: {} };\n          return (\n            <div style={{ margin: 10 }}>\n              <TextField\n                label=\"tweet\"\n                multiline\n                margin=\"normal\"\n                variant=\"outlined\"\n                rows=\"6\"\n                style={{ width: \"100%\" }}\n                value={this.state.target}\n                onChange={e => {\n                  this.setState({ target: e.target.value });\n                }}\n              />\n              <br />\n              <div style={{ bottom: 0 }}>\n                <div style={{ float: \"left\" }}>\n                  {setBtnPicFile(\n                    { btnpicfile_label: \"picture\" },\n                    { btnpicfile_set: this.handlePicFile }\n                  )}\n                </div>\n                <Button\n                  style={{ float: \"right\" }}\n                  onClick={() => {\n                    context.func.excuteTweet(this.state.target, this.file);\n                    this.setState({ target: \"\" });\n                    closeModal();\n                  }}\n                >\n                  tweet\n                </Button>\n              </div>\n            </div>\n          );\n        }}\n      </Consumer>\n    );\n  }\n}\n\nexport default function setFormTweet(closeModal) {\n  return <FormTweet closeModal={closeModal} />;\n}\n","import React, { Component } from \"react\";\nimport { Button, Modal, Typography, IconButton } from \"@material-ui/core\";\nimport { Close } from \"@material-ui/icons\";\nimport setFormTweet from \"./formTweet\";\n\nexport class BtnOpenTweet extends Component {\n  state = {\n    open: false\n  };\n\n  handleOpen = () => {\n    this.setState({ open: true });\n  };\n\n  handleClose = () => {\n    this.setState({ open: false });\n  };\n\n  render() {    \n    return (\n      <div>\n        <Button onClick={this.handleOpen}>tweet</Button>\n        <Modal\n          aria-labelledby=\"simple-modal-title\"\n          aria-describedby=\"simple-modal-description\"\n          open={this.state.open}\n          onClose={this.handleClose}\n          style={{ display: \"flex\" }}\n        >\n          <div\n            style={{\n              width: \"60%\",\n              height: 280,\n              flex: \"0 1 auto\",\n              margin: \"auto\",\n              background: \"white\"\n            }}\n          >\n            <div>\n              <IconButton onClick={this.handleClose} style={{ float: \"right\" }}>\n                <Close />\n              </IconButton>\n              <Typography variant=\"h5\" style={{ textAlign: \"center\" }}>\n                \n              </Typography>\n            </div>\n            <br />\n            {setFormTweet( this.handleClose)}\n          </div>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default function setBtnOpenTweet() {\n  return <BtnOpenTweet />;\n}\n","import React, { Component } from \"react\";\nimport { IconButton } from \"@material-ui/core\";\nimport { Autorenew } from \"@material-ui/icons\";\nimport { Consumer } from \"./index\";\n\nexport default class BtnReloadTimeline extends Component {\n  toAccount = () => {\n    const { history } = this.props;\n    console.log(\"this.props\", this.props);\n    if (history) history.push(\"/account\");\n  };\n  render() {\n    return (\n      <Consumer>\n        {context => {\n          context = context || { func: { reload: () => {} }, val: {} };\n          return (\n            <IconButton\n              onClick={() => {\n                context.func.reload();\n              }}\n              style={{ marginLeft: \"auto\" }}\n            >\n              <Autorenew />\n            </IconButton>\n          );\n        }}\n      </Consumer>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { IconButton, InputBase } from \"@material-ui/core\";\nimport { Search } from \"@material-ui/icons\";\nimport { Consumer } from \"../index\";\n\nexport default class FormSearchUser extends Component {\n  state = { target: \"\" };\n  render() {\n    return (\n      <Consumer>\n        {context => {\n          context = context || {\n            func: {\n              searchUser: id => {\n                console.log({ id });\n              }\n            }\n          };\n          return (\n            <div>\n              <InputBase\n                placeholder=\"Search\"\n                value={this.state.target}\n                onChange={e => {\n                  this.setState({ target: e.target.value });\n                }}\n                style={{ width: \"20%\" }}\n              />\n              <IconButton\n                onClick={() => {\n                  context.func.searchUser(this.state.target);\n                  this.setState({ target: \"\" });\n                }}\n              >\n                <Search />\n              </IconButton>\n            </div>\n          );\n        }}\n      </Consumer>\n    );\n  }\n}\n","import React from \"react\";\nimport { AppBar, Tabs, Tab, Toolbar } from \"@material-ui/core\";\nimport BtnAccount from \"./btnAccount\";\nimport setBtnOpenTweet from \"./btnOpenTweet\";\nimport BtnReloadTimeline from \"../btnReloadTimeline\";\nimport setFormSearchUser from \"./formSearchUser\";\nimport FormSearchUser from \"./formSearchUser\";\n\nclass Header extends React.Component {\n  state = {\n    tab: 0\n  };\n\n  handleChange = (event, tab) => {\n    this.setState({ tab });\n  };\n\n  titles = [];\n  nodeId = \"\";\n  pages = [];\n\n  render() {\n    const { value, func } = this.props;\n    if (value && func) {\n      this.titles = value.titles;\n      this.pages = value.pages;\n      this.nodeId = value.nodeId;\n    }\n    const { tab } = this.state;\n\n    return (\n      <div style={{ flexGrow: 1 }}>\n        <AppBar position=\"static\" style={{ backgroundColor: \"white\" }}>\n          <Toolbar>\n            <Tabs\n              value={tab}\n              onChange={this.handleChange}\n              style={{ color: \"black\" }}\n            >\n              {this.titles\n                ? this.titles.map((v, i) => {\n                    return <Tab label={v} key={i} />;\n                  })\n                : undefined}\n            </Tabs>\n            <BtnReloadTimeline />\n            <div style={{ color: \"black\", width: \"10%\" }}> {this.nodeId}</div>\n            <FormSearchUser />\n            <BtnAccount />\n            {setBtnOpenTweet()}\n          </Toolbar>\n        </AppBar>\n        {this.pages\n          ? this.pages.map((v, i) => {\n              return tab === i && v;\n            })\n          : undefined}\n      </div>\n    );\n  }\n}\n\nexport function header(\n  value = { titles: [], pages: [], nodeId: \"\" },\n  func = {}\n) {\n  return <Header value={value} func={func} />;\n}\n","import React, { Component } from \"react\";\nimport { Consumer } from \".\";\nimport Kademlia from \"kad-rtc\";\n\nconst findPicture = (url, p2p) => {\n  if (!p2p || !p2p.kad) return;\n  console.log(\"findpicture\", { url });\n  return new Promise((resolve, reject) => {\n    find(p2p.kad);\n    async function find(kad = new Kademlia()) {\n      if (Object.keys(kad.keyValueList).includes(url)) {\n        console.log(\"fownd picture\", kad.keyValueList[url]);\n        try {\n          resolve(\n            window.URL.createObjectURL(new Blob(kad.keyValueList[url].chunks))\n          );\n        } catch (error) {\n          reject(\"findpicture blob error\", { error });\n        }\n      } else {\n        console.log(\"findpicture findvalue\");\n        const result = await kad.findValue(url).catch(console.log);\n        if (!result) reject(\"file not fownd\");\n        try {\n          console.log(\"findpicture findvalue\", { result });\n\n          resolve(window.URL.createObjectURL(new Blob(result.chunks)));\n        } catch (error) {\n          reject(\"findpicture blob error\", { error }, { result });\n        }\n      }\n    }\n  });\n};\n\nexport class ImageTweet extends Component {\n  p2p;\n  imageUrl;\n  constructor(props) {\n    super(props);\n    this.state = {\n      imgsrc: undefined\n    };\n    const { imageUrl } = this.props;\n    this.imageUrl = imageUrl;\n  }\n\n  componentDidMount() {\n    const { imageUrl } = this.props;\n    console.log(\"picture didmount\", { imageUrl });\n    (async () => {\n      if (imageUrl) {\n        const result = await findPicture(imageUrl, this.p2p).catch(console.log);\n        if (result) {\n          this.setState({ imgsrc: result });\n        }\n      }\n    })();\n  }\n\n  componentDidUpdate() {\n    //imageUrl\n    const { imageUrl } = this.props;\n    console.log(\"picture didupdate\", { imageUrl });\n    (async () => {\n      if (imageUrl !== this.imageUrl) {\n        this.imageUrl = imageUrl;\n        console.log(\"componentDidUpdate find\");\n        const result = await findPicture(imageUrl, this.p2p).catch(console.log);\n        if (result) {\n          this.setState({ imgsrc: result });\n        }\n      }\n    })();\n  }\n\n  render() {\n    const { imageUrl } = this.props;\n    return (\n      <Consumer>\n        {context => {\n          context = context || { func: {}, val: { p2p: {} } };\n          this.p2p = context.val.p2p;\n          return (\n            <div>\n              {imageUrl}\n              <img src={this.state.imgsrc} alt={imageUrl} width=\"70%\" />\n            </div>\n          );\n        }}\n      </Consumer>\n    );\n  }\n}\n\nexport default function setImageTweet(imageUrl) {\n  console.log(\"setpicture\", { imageUrl });\n  return <ImageTweet imageUrl={imageUrl} key={imageUrl} />;\n}\n","import React, { Component } from \"react\";\nimport { IconButton, Button } from \"@material-ui/core\";\nimport { AccountCircle } from \"@material-ui/icons\";\nimport setImageTweet from \"./picture\";\nimport { Consumer } from \".\";\n\nexport class Tweet extends Component {\n  render() {\n    const { tweet, index } = this.props;\n    return (\n      <Consumer>\n        {context => {\n          context = context || { func: { onClickId: () => {} }, val: {} };\n\n          return (\n            <div\n              style={{\n                border: \"1px solid\",\n                borderRadius: 4,\n                borderWidth: 0.5,\n                borderColor: \"#d6d7da\",\n                margin: 3\n              }}\n              key={index}\n            >\n              <IconButton onClick={this.toAccount}>\n                <AccountCircle />\n              </IconButton>\n              <Button\n                onClick={() => {\n                  context.func.onClickId(tweet.id);\n                }}\n              >\n                {tweet.id}\n              </Button>\n              <br />\n              <div\n                style={{ float: \"right\", marginRight: 20, marginBottom: 20 }}\n              >\n                {new Date(tweet.time).toString()}\n              </div>\n              <br />\n              <div style={{ marginLeft: 50 }}>\n                {tweet.msg}\n                <br />\n                {tweet.pic ? setImageTweet(tweet.pic) : undefined}\n              </div>\n              <br />\n              <Button>name</Button>\n              <Button>name</Button>\n              <Button>name</Button>\n              <br />\n            </div>\n          );\n        }}\n      </Consumer>\n    );\n  }\n}\n\nexport default function setTweet(tweet, index) {\n  return <Tweet tweet={tweet} index={index} />;\n}\n","import React, { Component, createContext } from \"react\";\nimport setTweet from \"./tweet\";\n\nconst Context = createContext();\nexport const { Provider, Consumer } = Context;\n\nexport class Timeline extends Component {\n  render() {\n    const { timeline, func, p2p } = this.props;\n    console.log(\"timeline render\", { timeline });\n    return (\n      <Provider value={{ func, val: { p2p } }}>\n        <div style={{ width: \"50%\" }}>\n          {timeline.map((v, i) => {\n            return setTweet(v, i);\n          })}\n        </div>\n      </Provider>\n    );\n  }\n}\n\nexport function setTimeline(\n  timeline = [],\n  p2p,\n  func = {\n    onClickId: () => {}\n  }\n) {\n  console.log(\"settimeline\", { timeline });\n  return <Timeline timeline={timeline} p2p={p2p} func={func} />;\n}\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { setTimeline } from \"../../components/common/timelline\";\nimport { setConditionValue, Icondition } from \"../../modules/condition\";\nimport { withRouter } from \"react-router\";\nimport { initialState, findTweet } from \"../../modules/twitter\";\n\nclass MainTimeLine extends Component {\n  onClickId = id => {\n    const { dispatch, history, p2p } = this.props;\n    if (id !== p2p.kad.nodeId) {\n      setConditionValue(Icondition.findUser, id, dispatch);\n      history.push(\"/user\");\n    } else {\n      history.push(\"/account\");\n    }\n  };\n\n  componentDidMount() {\n    const { twitter, p2p, dispatch } = this.props;\n    follows(twitter, p2p);\n    function follows(twitter = initialState, p2p) {\n      twitter.followIds.forEach(async id => {\n        await findTweet(id, p2p.kad, dispatch);\n      });\n    }\n  }\n\n  render() {\n    const { twitter, p2p } = this.props;\n    console.log(\"timeline container render\", { twitter });\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          justifyContent: \"center\",\n          alignItems: \"center\"\n        }}\n      >\n        {() => {\n          console.log(\"timeline test\", twitter.timeline);\n        }}\n        {setTimeline(twitter.timeline, p2p, {\n          onClickId: this.onClickId\n        })}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    twitter: state.twitter,\n    p2p: state.p2p\n  };\n};\n\nexport default withRouter(connect(mapStateToProps)(MainTimeLine));\n","import React, { Component } from \"react\";\nimport {\n  Table,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableBody\n} from \"@material-ui/core\";\n\nexport default class NodeList extends Component {\n  render() {\n    const { kbuckets } = this.props;\n    const arr = {};\n    console.log({ kbuckets });\n    if (kbuckets)\n      kbuckets.forEach((kbucket, i) => {\n        if (kbucket.length > 0) {\n          let line = \"\";\n          kbucket.forEach(node => {\n            line += node.nodeId + \" , \";\n          });\n          arr[i] = line;\n        }\n      });\n    return (\n      <div style={{ margin: \"20px\" }}>\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell>index</TableCell>\n              <TableCell>nodes</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {Object.keys(arr).map((key, i) => {\n              const kbucket = arr[key];\n              return (\n                <TableRow key={i}>\n                  <TableCell>{key}</TableCell>\n                  <TableCell>{kbucket}</TableCell>\n                </TableRow>\n              );\n            })}\n          </TableBody>\n        </Table>\n      </div>\n    );\n  }\n}\n\nexport function createNodeList(kbuckets) {\n  console.log({ kbuckets });\n  return <NodeList kbuckets={kbuckets} />;\n}\n","import React, { Component } from \"react\";\nimport { Button } from \"@material-ui/core\";\n\nexport class DmList extends Component {\n  messages = {};\n  onClickId = id => {};\n\n  render() {\n    const { val, func } = this.props;\n    if (val && func) {\n      this.messages = val.dmlist_messages;\n      this.onClickId = func.dmlist_onClickId;\n    }\n\n    return (\n      <div style={{ width: 200 }}>\n        <div>dm list</div>\n        {Object.keys(this.messages).map((key, i) => {\n          const message = this.messages[key];\n          return (\n            <div key={i}>\n              <Button\n                onClick={() => {\n                  this.onClickId(key);\n                }}\n              >\n                {key}\n              </Button>\n              {message[message.length - 1].text}\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nexport function setDmList(\n  val = { dmlist_messages: {} },\n  func = {\n    dmlist_onClickId: id => {}\n  }\n) {\n  console.log(\"setdmlist\", { val }, { func });\n  return <DmList val={val} func={func} />;\n}\n","import React, { Component, createContext } from \"react\";\nimport { header } from \"./header\";\nimport MainTimeLine from \"../../containers/main/timeline\";\nimport { createNodeList } from \"../common/util/nodeList\";\nimport { setDmList } from \"./dmList\";\n\nconst Context = createContext();\nexport const { Provider, Consumer } = Context;\n\nexport class MainContext extends Component {\n  render() {\n    const { val, func } = this.props;\n\n    console.log(\"main index\", this.props);\n    return (\n      <Provider value={{ val, func }}>\n        {header(\n          {\n            titles: [\"timeline\", \"dm\", \"kademlia\"],\n            pages: [\n              <MainTimeLine />,\n              setDmList(val, func),\n              createNodeList(val.kbuckets)\n            ],\n            nodeId: val.nodeId\n          },\n          {}\n        )}\n      </Provider>\n    );\n  }\n}\n\nexport default function setMainContext(\n  val = { kbuckets: [], nodeId: \"\", dmlist_messages: {} },\n  func = {\n    excuteTweet: () => {},\n    reload: () => {},\n    setFile: () => {},\n    searchUser: () => {},\n    toAccount: () => {},\n    dmlist_onClickId: id => {}\n  }\n) {\n  return <MainContext val={val} func={func} />;\n}\n","import React, { Component } from \"react\";\nimport { Snackbar } from \"@material-ui/core\";\n\nexport class Nofitication extends Component {\n  nofiticationOpen = false;\n  nofiticationMessage = \"\";\n  nofiticationClose = () => {};\n\n  render() {\n    const { val, func } = this.props;\n    if (val && func) {\n      this.nofiticationOpen = val.nofiticationOpen;\n      this.nofiticationMessage = val.nofiticationMessage;\n      this.nofiticationClose = func.nofiticationClose;\n    }\n    return (\n      <div>\n        <Snackbar\n          anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n          open={this.nofiticationOpen}\n          onClose={this.nofiticationClose}\n          message={this.nofiticationMessage}\n        />\n      </div>\n    );\n  }\n}\n\nexport default function setNofitication(\n  val = { nofiticationOpen: false, nofiticationMessage: \"\" },\n  func = { nofiticationClose: () => {} }\n) {\n  return <Nofitication val={val} func={func} />;\n}\n","import { setConditionValue, Icondition } from \"../modules/condition\";\n\nexport const toDm = (props, id) => {\n  const { history, dispatch } = props;\n  setConditionValue(Icondition.dmUserId, id, dispatch);\n  if (history) history.push(\"/dm\");\n};\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { tweet } from \"../modules/twitter\";\nimport setMainContext from \"../components/main\";\nimport { setConditionValue, Icondition } from \"../modules/condition\";\nimport Kademlia from \"kad-rtc\";\nimport { Modal, CircularProgress } from \"@material-ui/core\";\nimport setNofitication from \"../components/common/nofitication\";\nimport { toDm } from \"../domain/dm\";\n\nclass Main extends React.Component {\n  nodeId = \"\";\n  constructor(props) {\n    super(props);\n    const { p2p, history } = this.props;\n    this.state = {\n      value: 0,\n      kbuckets: []\n    };\n\n    if (!p2p.kad) {\n      history.push(\"/\");\n    }\n  }\n\n  componentWillMount() {\n    const { p2p } = this.props;\n    if (p2p.kad) this.nodeId = p2p.kad.nodeId;\n  }\n\n  componentDidMount() {\n    const { p2p } = this.props;\n    this.listenAddPeer(p2p.kad);\n  }\n\n  listenAddPeer(kad) {\n    if (!kad) return;\n    console.log(\"addlister\");\n    kad.callback.onAddPeer = data => {\n      console.log(\"onaddpeer\", { data });\n      this.setState({ kbuckets: kad.kbuckets });\n    };\n  }\n\n  excuteTweet = (text, file) => {\n    const { dispatch, p2p, twitter } = this.props;\n    tweet(text, p2p.kad, dispatch, twitter, { picture: file });\n  };\n\n  setFile = chunks => {\n    const { dispatch } = this.props;\n    setConditionValue(Icondition.selectFile, chunks, dispatch);\n  };\n\n  searchUser = userId => {\n    const { dispatch, p2p, history } = this.props;\n    searchUser(p2p.kad);\n    async function searchUser(kad = new Kademlia()) {\n      setConditionValue(Icondition.loading, true, dispatch);\n      console.log(\"searchUser\", { userId });\n      const peer = kad.f.getPeerFromnodeId(userId);\n      if (peer) {\n        setConditionValue(Icondition.loading, false, dispatch);\n        setConditionValue(Icondition.findUser, userId, dispatch);\n        history.push(\"/user\");\n      } else {\n        const result = await kad\n          .findNode(userId, kad.f.getCloseEstPeer(userId))\n          .catch(console.log);\n        setConditionValue(Icondition.loading, false, dispatch);\n        if (result) {\n          setConditionValue(Icondition.findUser, userId, dispatch);\n          history.push(\"/user\");\n        }\n      }\n    }\n  };\n\n  toAccount = () => {\n    const { history } = this.props;\n    console.log(\"this.props\", this.props);\n    if (history) history.push(\"/account\");\n  };\n\n  nofiticationClose = () => {\n    const { dispatch } = this.props;\n    setConditionValue(Icondition.nofiticationOpen, false, dispatch);\n  };\n\n  dmlist_onClickId = id => {\n    toDm(this.props, id);\n  };\n\n  render() {\n    const { p2p, condition, dm } = this.props;\n    console.log(\"main\", { p2p });\n    return (\n      <div>\n        {setMainContext(\n          {\n            kbuckets: this.state.kbuckets,\n            nodeId: this.nodeId,\n            dmlist_messages: dm.messages\n          },\n          {\n            excuteTweet: this.excuteTweet,\n            reload: {},\n            setFile: this.setFile,\n            searchUser: this.searchUser,\n            toAccount: this.toAccount,\n            dmlist_onClickId: this.dmlist_onClickId\n          }\n        )}\n        <Modal\n          open={condition.loading}\n          style={{\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\"\n          }}\n        >\n          <CircularProgress />\n        </Modal>\n        {setNofitication(\n          {\n            nofiticationOpen: condition.nofiticationOpen,\n            nofiticationMessage: condition.nofiticationMessage\n          },\n          { nofiticationClose: this.nofiticationClose }\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    p2p: state.p2p,\n    twitter: state.twitter,\n    condition: state.condition,\n    dm: state.dm\n  };\n};\n\nexport default connect(mapStateToProps)(Main);\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport LockIcon from \"@material-ui/icons/LockOutlined\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nconst styles = theme => ({\n  layout: {\n    width: \"auto\",\n    display: \"block\", // Fix IE 11 issue.\n    marginLeft: theme.spacing.unit * 3,\n    marginRight: theme.spacing.unit * 3,\n    [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\n      width: 400,\n      marginLeft: \"auto\",\n      marginRight: \"auto\"\n    }\n  },\n  paper: {\n    marginTop: theme.spacing.unit * 8,\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme\n      .spacing.unit * 3}px`\n  },\n  avatar: {\n    margin: theme.spacing.unit,\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing.unit\n  },\n  submit: {\n    marginTop: theme.spacing.unit * 3\n  }\n});\n\nclass SignIn extends Component {\n  pubKey;\n  secKey;\n  render() {\n    const { classes, login, register } = this.props;\n    return (\n      <React.Fragment>\n        <CssBaseline />\n        <main className={classes.layout}>\n          <Paper className={classes.paper}>\n            <Avatar className={classes.avatar}>\n              <LockIcon />\n            </Avatar>\n            <Typography component=\"h1\" variant=\"h5\">\n              Dtwi\n            </Typography>\n            <form className={classes.form}>\n              <FormControl margin=\"normal\" required fullWidth>\n                <InputLabel>Public Key</InputLabel>\n                <Input\n                  autoFocus\n                  onChange={e => (this.pubKey = e.target.value)}\n                />\n              </FormControl>\n              <FormControl margin=\"normal\" required fullWidth>\n                <InputLabel htmlFor=\"password\">Secret Key</InputLabel>\n                <Input\n                  name=\"password\"\n                  type=\"password\"\n                  id=\"password\"\n                  autoComplete=\"current-password\"\n                  onChange={e => (this.secKey = e.target.value)}\n                />\n              </FormControl>\n              <FormControlLabel\n                control={<Checkbox value=\"remember\" color=\"primary\" />}\n                label=\"Remember me\"\n              />\n              <Button\n                fullWidth\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.submit}\n                onClick={() => {\n                  login(this.pubKey, this.secKey);\n                }}\n              >\n                Sign in\n              </Button>\n              <br />\n              <br />\n              <Button fullWidth variant=\"contained\" onClick={register}>\n                register\n              </Button>\n            </form>\n          </Paper>\n        </main>\n      </React.Fragment>\n    );\n  }\n}\n\nSignIn.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default function setSignin(login = () => {}, register = () => {}) {\n  const Styled = withStyles(styles)(SignIn);\n  return <Styled login={login} register={register} />;\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { setValue, Istate } from \"../modules/p2p\";\nimport Node from \"kad-rtc/lib/node/node\";\nimport { event } from \"../modules/twitter\";\nimport { event as dmEvent } from \"../modules/dm\";\nimport setSignin from \"../components/login\";\nimport { getStream } from \"../lib/video\";\n\nclass Login extends React.Component {\n  targetAddress = \"35.196.94.146\";\n  targetPort = 20000;\n  state = { videoSrc: undefined, localSrc: undefined };\n\n  connectNode = (pubkey, seckey) => {\n    const { dispatch } = this.props;\n    const targetUrl = `http://${this.targetAddress}:${this.targetPort}`;\n    console.log(this.targetAddress, { targetUrl });\n\n    setValue(Istate.targetUrl, targetUrl, dispatch);\n    const node = new Node(this.targetAddress, this.targetPort, {\n      pubkey,\n      seckey\n    });\n    setValue(Istate.node, node, dispatch);\n    setValue(Istate.kad, node.kad, dispatch);\n\n    event(node.kad, dispatch);\n    dmEvent(node.kad, dispatch);\n\n    this.props.history.push(\"/main\");\n  };\n\n  // async componentDidMount() {\n  //   const local = await getStream();\n  //   this.video.srcObject = local;\n  //   // this.setState({ localSrc: local });\n  // }\n\n  render() {\n    return (\n      <div>\n        {setSignin(this.connectNode, this.connectNode)}\n        \n      </div>\n    );\n  }\n}\n\nexport default connect()(Login);\n","import React, { Component } from \"react\";\nimport { Button } from \"@material-ui/core\";\n\nexport class FollowList extends Component {\n  follows = [];\n  onClickId = id => {\n    console.log({ id });\n  };\n\n  render() {\n    const { value, func } = this.props;\n    if (value && func) {\n      this.follows = value.follows;\n      this.onClickId = func.onClickId;\n    }\n\n    return (\n      <div style={{ width: 200, textAlign: \"center\" }}>\n        <div>follow list</div>\n        {this.follows.map((v, i) => {\n          return (\n            <div>\n              <Button\n                onClick={() => {\n                  this.onClickId(v);\n                }}\n                key={i}\n                style={{ width: \"90%\" }}\n              >\n                {v}\n              </Button>\n              <br />\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nexport function setFollowList(\n  value = { follows: [] },\n  func = {\n    onClickId: id => {\n      console.log({ id });\n    }\n  }\n) {\n  return <FollowList value={value} func={func} />;\n}\n","import React, { Component, createContext } from \"react\";\nimport { IconButton } from \"@material-ui/core\";\nimport { ArrowBack } from \"@material-ui/icons\";\nimport { Istate } from \"../../modules/twitter\";\nimport { setTimeline } from \"../../components/common/timelline\";\nimport { setFollowList } from \"./followList\";\n\nconst Context = createContext();\nexport const { Provider, Consumer } = Context;\n\nexport class AccountContext extends Component {\n  twitter = [];\n  toMain = () => {};\n\n  render() {\n    const { value, func } = this.props;\n    if (value && func) {\n      this.twitter = value.twitter;\n      this.toMain = func.toMain;\n    }\n    return (\n      <div>\n        <IconButton onClick={this.toMain} style={{ marginLeft: \"auto\" }}>\n          <ArrowBack />\n        </IconButton>\n        <div style={{ display: \"flex\" }}>\n          <div style={{ width: 500 }}>{setFollowList(value, func)}</div>\n          <div style={{ flex: 1 }}>\n            {setTimeline(this.twitter[Istate.myTweets], value.p2p)}\n          </div>\n        </div>{\" \"}\n      </div>\n    );\n  }\n}\n\nexport default function setAccountContext(\n  value = { twitter: [], follows: [], p2p: {} },\n  func = { toMain: () => {}, onClickId: () => {} }\n) {\n  return <AccountContext value={value} func={func} />;\n}\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport setAccountContext from \"../components/account\";\nimport { Istate } from \"../modules/twitter\";\nimport { Icondition ,setConditionValue} from \"../modules/condition\";\n\n\nclass Account extends Component {\n  constructor(props) {\n    super(props);\n    const { p2p, history } = this.props;\n    if (!p2p.kad) {\n      history.push(\"/\");\n    }\n  }\n\n  toMain = () => {\n    const { history } = this.props;\n    if (history) history.push(\"/main\");\n  };\n\n  onClickId = id => {\n    const { dispatch, history, p2p } = this.props;\n    if (id !== p2p.kad.nodeId) {\n      setConditionValue(Icondition.findUser, id, dispatch);\n      history.push(\"/user\");\n    }\n  };\n\n  render() {\n    const { twitter, p2p } = this.props;\n    return (\n      <div>\n        {setAccountContext(\n          { twitter: twitter, follows: twitter[Istate.followIds], p2p },\n          { toMain: this.toMain, onClickId: this.onClickId }\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    p2p: state.p2p,\n    twitter: state.twitter\n  };\n};\n\nexport default connect(mapStateToProps)(Account);\n","import React, { Component } from \"react\";\nimport { IconButton, Button } from \"@material-ui/core\";\nimport { AccountCircle } from \"@material-ui/icons\";\nimport { Consumer } from \"./index\";\n\nexport default class FormBadge extends Component {\n  toAccount = () => {\n    const { history } = this.props;\n    console.log(\"this.props\", this.props);\n    if (history) history.push(\"/account\");\n  };\n\n  render() {\n    return (\n      <Consumer>\n        {context => {\n          context = context || {\n            func: { toDm: () => {}, follow: () => {} },\n            val: { id: \"\" }\n          };\n\n          return (\n            <div\n              style={{\n                border: \"1px solid\",\n                borderRadius: 4,\n                borderWidth: 0.5,\n                borderColor: \"#d6d7da\"\n              }}\n            >\n              <IconButton>\n                <AccountCircle />\n              </IconButton>\n              <Button>{context.val.id}</Button>\n              <br />\n              <div style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n                <Button\n                  onClick={() => {\n                    context.func.follow(context.val.id);\n                  }}\n                >\n                  follow\n                </Button>\n                <Button\n                  onClick={() => {\n                    context.func.toDm(context.val.id);\n                  }}\n                >\n                  dm\n                </Button>\n              </div>\n            </div>\n          );\n        }}\n      </Consumer>\n    );\n  }\n}\n","import React, { Component, createContext } from \"react\";\nimport { IconButton } from \"@material-ui/core\";\nimport { ArrowBack } from \"@material-ui/icons\";\nimport { setTimeline } from \"../../components/common/timelline\";\nimport FormBadge from \"./badge\";\n\nconst Context = createContext();\nexport const { Provider, Consumer } = Context;\n\nexport class UserContext extends Component {\n  render() {\n    const { value, func } = this.props;\n    return (\n      <Provider value={{ func, val: value }}>\n        <IconButton onClick={func.toMain} style={{ marginLeft: \"auto\" }}>\n          <ArrowBack />\n        </IconButton>\n        <div style={{ display: \"flex\" }}>\n          <div style={{ width: 500 }}>\n            <FormBadge />\n          </div>\n          <div style={{ flex: 1 }}>\n            {setTimeline(value.timeline, value.p2p)}\n          </div>\n        </div>\n      </Provider>\n    );\n  }\n}\n\nexport default function setUserContext(\n  value = { timeline: [], id: \"\", p2p: undefined },\n  func = { toMain: () => {}, follow: () => {}, toDm: () => {} }\n) {\n  return <UserContext value={value} func={func} />;\n}\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { findTweet, initialState, follow } from \"../modules/twitter\";\nimport setUserContext from \"../components/user\";\nimport { setConditionValue, Icondition } from \"../modules/condition\";\n\nclass User extends Component {\n  constructor(props) {\n    super(props);\n    const { p2p, history } = this.props;\n    if (!p2p.kad) {\n      history.push(\"/\");\n    }\n  }\n\n  async componentDidMount() {\n    const { condition, p2p, dispatch } = this.props;\n    findTweet(condition.findUser, p2p.kad, dispatch);\n  }\n\n  toMain = () => {\n    const { history } = this.props;\n    if (history) history.push(\"/main\");\n  };\n\n  toDm = id => {\n    const { history, dispatch } = this.props;\n    setConditionValue(Icondition.dmUserId, id, dispatch);\n    if (history) history.push(\"/dm\");\n  };\n\n  getTargetTweets(target, state = initialState) {\n    const tweets = [];\n    state.timeline.forEach(tweet => {\n      if (tweet.id === target) {\n        tweets.push(tweet);\n      }\n    });\n    return tweets;\n  }\n\n  follow = id => {\n    const { dispatch } = this.props;\n    follow(id, dispatch);\n  };\n\n  render() {\n    const { twitter, condition, p2p } = this.props;\n    const tweets = this.getTargetTweets(condition.findUser, twitter);\n\n    return (\n      <div>\n        {setUserContext(\n          { timeline: tweets, id: condition.findUser, p2p },\n          { toMain: this.toMain, follow: this.follow, toDm: this.toDm }\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    p2p: state.p2p,\n    twitter: state.twitter,\n    condition: state.condition\n  };\n};\n\nexport default connect(mapStateToProps)(User);\n","import React, { Component } from \"react\";\nimport WebRTC from \"webrtc4me\";\nimport Stream, { getLocalStream } from \"webrtc4me/lib/stream\";\nimport { getStream } from \"../../../lib/video\";\n\nexport class VideoChat extends Component {\n  state = { videoSrc: undefined, localSrc: undefined };\n  peer = {};\n  closeModal = () => {};\n\n  setProps(props) {\n    const { val, func } = props;\n    if (val && func) {\n      this.peer = val.videochat_peer;\n      this.closeModal = val.videochat_closeModal;\n    }\n  }\n\n  componentDidMount() {\n    this.setProps(this.props);\n    console.log(\"videochat didmount\", this.peer);\n    const connectStream = async (peer = new WebRTC()) => {\n      const local = await getLocalStream();\n      console.log(\"videochat didmout\", { peer });\n      const stream = new Stream(peer, local);\n      stream.stream = media => {\n        console.log(\"videochat\", { media });\n        this.video.srcObject = media;\n      };\n    };\n    connectStream(this.peer);\n  }\n\n  render() {\n    console.log(\"media\", this.state.videoSrc, this.state.localSrc);\n    return (\n      <div\n        style={{\n          flex: \"0 1 auto\",\n          margin: \"auto\"\n        }}\n      >\n        <video\n          ref={video => {\n            this.video = video;\n          }}\n          autoPlay={true}\n        />\n      </div>\n    );\n  }\n}\n\nexport default function setVideoChat(\n  val = { videochat_peer: {} },\n  func = { videochat_closeModal: () => {} }\n) {\n  console.log(\"setvideochat\", { val }, { func });\n  return <VideoChat val={val} func={func} />;\n}\n","import React, { Component } from \"react\";\nimport \"react-chat-elements/dist/main.css\";\nimport { MessageList } from \"react-chat-elements\";\nimport { TextField, Button, Modal, IconButton } from \"@material-ui/core\";\nimport setBtnPicFile from \"../main/header/btnPicFile\";\nimport setVideoChat from \"../common/videoChat\";\nimport { Close } from \"@material-ui/icons\";\nimport WebRTC from \"webrtc4me\";\n\nexport class FormDmChat extends Component {\n  state = { text: \"\", videoModal: false };\n\n  toAccount = () => {\n    const { history } = this.props;\n    console.log(\"this.props\", this.props);\n    if (history) history.push(\"/account\");\n  };\n\n  state = {\n    messageList: []\n  };\n\n  sendComment = () => {};\n  selectFile;\n  selectFilename;\n  dataSource;\n  peer = {};\n\n  openVideoModal = () => {\n    this.setState({ videoModal: true });\n    const send = (peer = new WebRTC()) => {\n      peer.send(\"openVideo\", \"chat_video\");\n    };\n    send(this.peer);\n  };\n\n  render() {\n    const { value, func } = this.props;\n    if (value && func) {\n      this.sendComment = func.sendComment;\n      this.peer = value.chat_peer;\n      const listenPeer = (peer = new WebRTC()) => {\n        peer.events.data[\"chat.js\"] = raw => {\n          if (raw.label === \"chat_video\" && raw.data === \"openVideo\") {\n            this.setState({ videoModal: true });\n          }\n        };\n      };\n      listenPeer(this.peer);\n\n      const messageArr = value.messages[value.nodeId];\n      if (messageArr)\n        this.dataSource = messageArr.map(message => {\n          console.log({ messagefile: new Blob(message.file) });\n          const position = message.type === \"me\" ? \"right\" : \"left\";\n          if (message.text) {\n            const text = message.text;\n            return {\n              position,\n              type: \"text\",\n              text,\n              date: new Date()\n            };\n          } else {\n            const text = \"file\";\n            const data = {\n              uri: window.URL.createObjectURL(new Blob(message.file)),\n              blob: new Blob(message.file),\n              status: {\n                click: true,\n                loading: 1\n              },\n              size: `${new Blob(message.file).size / 1000}kb`,\n              width: 300,\n              height: 300\n            };\n            return {\n              position,\n              type: \"file\",\n              filename: message.filename,\n              status: \"send\",\n              text,\n              data,\n              onDownload: () => {\n                console.log(\"ondownload\");\n              },\n              date: new Date()\n            };\n          }\n        });\n    }\n    return (\n      <div\n        style={{ display: \"flex\", flexDirection: \"column\", minHeight: \"95vh\" }}\n      >\n        <MessageList\n          className=\"message-list\"\n          lockable={true}\n          toBottomHeight={\"100%\"}\n          dataSource={this.dataSource}\n          onClick={object => {\n            console.log({ object });\n            if (object.type === \"file\") {\n              const templink = document.createElement(\"a\");\n              templink.href = object.data.uri;\n              templink.download = object.filename;\n              templink.style.display = \"none\";\n              document.body.appendChild(templink);\n              templink.click();\n              document.body.removeChild(templink);\n            }\n          }}\n        />\n        <div style={{ width: \"100%\", marginTop: \"auto\" }}>\n          <TextField\n            label=\"comment\"\n            multiline\n            margin=\"normal\"\n            variant=\"outlined\"\n            rows=\"3\"\n            value={this.state.text}\n            onChange={e => this.setState({ text: e.target.value })}\n            style={{ width: \"100%\" }}\n          />\n          <br />\n          <Button onClick={this.openVideoModal}>video </Button>\n          <div style={{ float: \"right\", display: \"flex\" }}>\n            {setBtnPicFile(\n              { btnpicfile_label: \"file\" },\n              {\n                btnpicfile_set: (file, filename) => {\n                  console.log(\"chat pic\", filename);\n                  this.selectFile = file;\n                  this.selectFilename = filename;\n                }\n              }\n            )}\n            <Button\n              onClick={() => {\n                this.sendComment({\n                  text: this.state.text,\n                  file: this.selectFile,\n                  filename: this.selectFilename\n                });\n                this.setState({ text: \"\" });\n              }}\n            >\n              comment\n            </Button>\n          </div>\n          <Modal\n            aria-labelledby=\"simple-modal-title\"\n            aria-describedby=\"simple-modal-description\"\n            open={this.state.videoModal}\n            onClose={() => {\n              this.setState({ videoModal: false });\n            }}\n            style={{ display: \"flex\" }}\n          >\n            <div\n              style={{\n                width: \"90%\",\n                height: \"90%\",\n                flex: \"0 1 auto\",\n                margin: \"auto\",\n                background: \"white\"\n              }}\n            >\n              <IconButton\n                onClick={() => {\n                  this.setState({ videoModal: false });\n                }}\n                style={{ float: \"right\" }}\n              >\n                <Close />\n              </IconButton>\n              {setVideoChat({ videochat_peer: this.peer }, {})}\n            </div>\n          </Modal>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default function setFormDmChat(\n  value = { messages: {}, nodeId: \"\", chat_peer: {} },\n  func = { sendComment: () => {} }\n) {\n  return <FormDmChat value={value} func={func} />;\n}\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { initialState } from \"../modules/condition\";\nimport setFormDmChat from \"../components/dm/chat\";\nimport { sendComment } from \"../modules/dm\";\nimport Kademlia from \"kad-rtc\";\n\nclass DM extends Component {\n  constructor(props) {\n    super(props);\n    const { p2p, history } = this.props;\n    if (!p2p.kad) {\n      history.push(\"/\");\n    }\n  }\n\n  renderId(condition = initialState) {\n    return <div>{condition.dmUserId}</div>;\n  }\n\n  sendComment = payload => {\n    const { condition, p2p, dispatch } = this.props;\n    console.log(\"sendcomment\", { payload });\n    sendComment(condition.dmUserId, payload.text, p2p.kad, dispatch, {\n      file: payload.file,\n      filename: payload.filename\n    });\n  };\n\n  render() {\n    const { condition, dm, p2p } = this.props;\n    const getPeer = (kad = new Kademlia(), id) => {\n      return kad.f.getPeerFromnodeId(id);\n    };\n    return (\n      <div>\n        {this.renderId(condition)}\n        {setFormDmChat(\n          {\n            messages: dm.messages,\n            nodeId: condition.dmUserId,\n            chat_peer: getPeer(p2p.kad, condition.dmUserId)\n          },\n          { sendComment: this.sendComment }\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    p2p: state.p2p,\n    twitter: state.twitter,\n    condition: state.condition,\n    dm: state.dm\n  };\n};\n\nexport default connect(mapStateToProps)(DM);\n","import React from \"react\";\nimport { render } from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport createStore from \"./createStore\";\n\nimport { HashRouter as Router, Route } from \"react-router-dom\";\nimport WatchLive from \"./pages/main\";\nimport Login from \"./pages/login\";\nimport Account from \"./pages/account\";\nimport User from \"./pages/user\";\nimport DM from \"./pages/dm\";\n\nconst data = createStore();\n\nrender(\n  <Provider store={data.store}>\n    <Router>\n      <div>\n        <Route exact path=\"/\" component={Login} />\n        <Route path=\"/main\" component={WatchLive} />\n        <Route path=\"/account\" component={Account} />\n        <Route path=\"/user\" component={User} />\n        <Route path=\"/dm\" component={DM} />\n      </div>\n    </Router>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}